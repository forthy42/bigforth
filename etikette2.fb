                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                \ Etiketten drucken (zweispaltig)                      30nov09pyCreate (name" $20 allot                                         Create (film  $20 allot                                         \ Variable date  dos dattime $4000000 / &80 + date ! forth      : name" ascii " parse (name" place ;                            name" Frank Paysan"                                             : film bl word count (film place ;                              film F0911AD  \ F9101AC/36                                      : .archivnummer ( n -- ) base push decimal                        (film count 2dup type + 1- c@ 'D' =                             IF  ." /img_" 0 <# # # # # #> type ." .jpg"                     ELSE ." /" 0 <# # # #> type THEN ;                            : tab 9 emit ;                                                  : .name (name" count type ;                                     : .copyright ." Copyright (c) 20"  base push decimal              (film 2+ 2 type ."  by" ;                     -->             \ Init                                                 30nov09py                                                                \needs fileop include fileop.fb                                 also fileop                                                                                                                     : init s" /dev/usblp0" r/w output-file +buffer                  \  #esc emit 'A emit 5 emit          \ Halber Vorschub            #esc emit 'D emit &16 emit 0 emit \ Tabulator                 \  #esc emit 'A emit 5 emit          \ Halber Vorschub          \  #esc emit 'S emit 0 emit          \ Hochstellen                #esc emit 'p emit 1 emit          \ Proportionalschrift       ;                                                               : fcr ( #cr emit ) cr ;                                                                                                                                                                                                                         -->             \ Etiketten drucken (zweispaltig)                      01jan10py                                                                : leer  3 spaces ;                                              : (.etikette ( #1 -- ) leer                                       ." (c) " .name ."  20" (film 2+ 2 type fcr leer                 ." Stockmannstr. 14" fcr leer                                   ." 81477 Mnchen" fcr leer                                      ." Archivnummer:" fcr leer                                      .archivnummer fcr                                               11 0 DO  fcr  LOOP ;                                          : .etikette ( #1 -- )  init (.etikette eot ;                                                                                    : .etiketten ( end start -- ) init                                ?DO i (.etikette stop? ?LEAVE  LOOP eot ;                                                                                                                                     -->             \ Etiketten drucken (Liste)                            30nov09py                                                                : .elist ( n1 n2 n3 .. nx x -- ) >r r@ init                       0 ?DO  I' I - 1- pick (.etikette  stop?  ?LEAVE  LOOP  eot      r> 0 ?DO  drop  LOOP ;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        