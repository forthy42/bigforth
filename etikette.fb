                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                \ Etiketten drucken (zweispaltig)                      01jan10pyCreate (name" $20 allot                                         Create (film  $20 allot                                         \ Variable date  dos dattime $4000000 / &80 + date ! forth      : name" ascii " parse (name" place ;                            name" Frank Paysan"                                             : film bl word count (film place ;                              film F9101AC  \ F9101AC/36                                      : .archivnummer ( n -- ) base push decimal                        (film count 2dup type + 1- c@ 'D' =                             IF  ." /img_" 0 <# # # # # #> type ." .jpg"                     ELSE ." /" 0 <# # # #> type THEN ;                            : tab 9 emit ;                                                  : .name (name" count type ;                                     : .copyright ." Copyright (c) 20"  base push decimal              (film 2+ 2 type ."  by" ;                     -->             \ Init                                                 17may09py                                                                include fileop.fb                                               also fileop                                                                                                                     : init s" /dev/usblp0" r/w output-file +buffer                    #esc emit 'A emit 5 emit          \ Halber Vorschub             #esc emit 'D emit &16 emit 0 emit \ Tabulator                   #esc emit 'A emit 5 emit          \ Halber Vorschub             #esc emit 'S emit 0 emit          \ Hochstellen                 #esc emit 'p emit 1 emit          \ Proportionalschrift       ;                                                               : fcr ( #cr emit ) cr ;                                                                                                                                                                                                                         -->             \ Etiketten drucken (zweispaltig)                      26may08py                                                                : .etikette ( #1 #2 -- ) init swap                                .copyright tab .copyright  fcr                                  .name tab .name fcr                                             ." Stockmannstr. 14" tab ." Stockmannstr. 14" fcr               ." 81477 Mnchen" tab ." 81477 Mnchen" fcr                     ." Archivnummer:" tab ." Archivnummer:" fcr                     .archivnummer tab .archivnummer fcr                             fcr fcr fcr fcr fcr fcr eot ;                                                                                                 : .etiketten ( end start -- )                                     ?DO i i 1+ .etikette stop? ?LEAVE  2 +LOOP ;                                                                                                                                                                                                  -->             \ Etiketten drucken (Liste)                            18apr89py: .elist ( n1 n2 n3 .. nx x -- ) >r r@ init                       0 ?DO  i' i - 1- pick 1 >                                              IF    i dup .etikette  i' i - 1- >r                                   r@ pick 2- r@ pin  r> pick 0= negate                      ELSE  i' i - 1- pick 0<>                                              IF  i' i - 1 =  IF  i 0 .etikette  1                                ELSE  1  BEGIN  i' i - over - pick 0=  WHILE                                    1+  REPEAT                                            i 2dup + .etikette                                              i' i - over - >r                                                r@ pick 1- r@ pin                                               r@ 1+ pick 1- r> 1+ pin  THEN                         ELSE  1  THEN  THEN                                       stop?  IF  drop leave  THEN  +LOOP                       r> 0 ?DO  drop  LOOP eot ;                                    